# Первые программы на С. Типы данных

## Hello, world!

### Первая программа
+ Программа состоит из инструкций.
+ Инструкции выполняются одна за другой, как написано в программе.
+ Начиная с // до конца строки пишут комментарии. Это текст для человека, он не выполняется. Мы будем использовать комментарии для объяснения кода.

#### Объяснение для полных новичков

Начало и конец программы мы пока будем механически переписывать, не разбираясь, что это значит. Изменять будем код в середине программы.

Похоже на изучение иностранного языка. Сначала учим "здравствуйте" и "до свидания" и чуть-чуть диалога между ними.

```c
// начало программы - началось
#include <stdio.h>


int main()
{
// начало программы - закончилось


    // тут пишем код
    printf("Hello, world!");  // печать строки Hello, world!


// конец программы - началось
    return 0;
}
// конец программы - закончилось
```

Пока не будем трогать части "начало программы" и "конец программы". Научимся запускать программу в онлайн редакторе и сдавать в курсе задачи на программирование.

#### Объяснение для знающих хоть один язык программирования

Разберем структуру программы, которую запускали, но не понимали.

```c
#include <stdio.h>


int main()          // выполнение программы всегда начинается с функции main
{                   // начало тела функции main


    printf("Hello, world!");  // печать строки Hello, world!


    return 0;       // код возврата из программы
}                   // конец функции main
```

Разберем по строкам.
```c
#include <stdio.h>
```

Вставляем в код необходимую информацию для подключения стандартной библиотеки ввода-вывода. В этой библиотеке реализована функция printf, которую мы используем позже.

```c
int main()
{
    какой-то код
}
```

Выполнение программы в языке Си всегда начинается с функции main.

```c
printf("Hello, world!");
```

Стандартная функция printf печатает строковую константу "Hello, world!", строковые константы пишем в двойных кавычках.

```c
return 0;
```

Код возврата из функции. Код возврата из функции main - это код возврата из всей программы. Не обязательный элемент. Но в курсе его писать обязательно, потому что без return 0; проверяющая система может посчитать, что ваша программа решена не верно. Так как проверка программ начинается с кода возврата, если он не 0, то считается, что программа закончилась с ошибкой и проверять её дальше бессмысленно.

### Чуть больше про printf
Чтобы напечатать текст, мы использовали код

```c
printf("Hello, world!");
```

`printf` - стандартная функция языка Си.

Стандартная - значит она существует всегда, при любом компиляторе и наборе библиотек.

В математике аргументы функций пишут в (). В Си тоже аргументы пишут внутри ().

Аргумент - текст (строковая константа). Текст пишем в двойных кавычках "Hello, world!".

В русском языке после каждого предложения (мысли) ставят точку. В Си тоже в конце каждой "мысли" ставят точку с запятой `;`

### Познакомимся с ошибками

Программа:

```c
#include <stdio.h>              // использовать стандартные функции ввода-вывода

int main()                      // начало программы
{
    printf("Hello, world!");    // печать строки Hello, world!

    return 0;                   // конец программы
}
```

Обратите внимание, в программе три разных типа скобок:

+ <> в первой строке,
+ () у функций main и printf
+ {} один раз

#include <stdio.h>
+ #include <stdio.h> - включить в программу информацию для чтения и печати данных.
    + `#` - с этого знака "диез" начинаются все команды препроцессора
    + команда препроцессора include (англ. "включить")
    + скобки <>
    + включаем мы файл, в котором описан standard input/output (стандартный ввод/вывод)
    + не забываем, расширение этого файла .h

Сделаем ошибки:
+ забудем #
+ неверно напишем include
+ неверно напишем stdio.h
+ напишем другие скобки вместо <>

Заметьте, если написать без пробелов #include<stdio.h>, то выражение компилируется без ошибок и работает правильно.

int main() { }
+ Программа всегда начинает выполнение с функции main (англ. "главная").
+ Перед названием функции пишем int от слова integer.
+ Дальше ()
+ Дальше {}. Внутри этих скобок мы будем менять код на этом уроке.

Сделаем ошибки:
+ неправильно напишем main
+ Забудем обе или одну из ()
+ Забудем {
+ Забудем }
+ Напишем без пробела intmain

Заметьте, количество пробелов или переводов на новую строку в этой конструкции не приводит к ошибкам.

+ printf("Hello, world!");
+ print+format - печать по формату, стандартная функция языка С для вывода на печать,
+ printf функция, ее аргументы надо писать в (), как в математике,
+ текст пишем в "
+ в конце пишем ;

В русском языке в конце каждого предложения ставим точку. В языке Си в конце каждой мысли ставим ;

Сделаем ошибки:
+ забудем f в printf,
+ забудем одну из () или сразу обе,
+ напишем только одну ",
+ напишем вместо двойных кавычек " одинарные кавычки ',
+ забудем ;

Заметьте, что ; мы забыли на одной строке, а компилятор показывает, что ошибка на следующей, нужен ; перед указанным кодом.

return 0;
+ return (англ. "вернуть") - ключевое слово языка Си, запомните его.
+ Дальше любое целое число,
+ ; в конце мысли.

Сделаем ошибки:
+ напишем неправильно слово return
+ напишем без пробела return0
+ забудем написать 0
+ забудем написать ;

Заметьте, можно написать вместо 0 любое целое число и программа будет по-прежнему компилироваться и работать.

Можно удалить эту строку и программа будет работать. Почему надо писать return 0; расскажем в следующем уроке.

В конце концов восстановите код, который печатает Hello, world! без ошибок, и отправьте программу.

### Пробелы и переводы строк
Компилятор разбивает текст вашей программы на понятные ему слова и понимает их. 

Компилятор - это программа, ему все равно написан ваш код в одну строку, или красиво отформатирован (правильно расставлены пробелы и переводы строк).

Преподаватель и ваши будущие коллеги - это не бездушные программы, а живые люди. Им удобнее читать хорошо отформатированный текст. Этот текст красивый, но читать его неудобно:

Снег таял

Мы стараемся форматировать текст курса, чтобы его было удобно читать.

Пишите программы так, чтобы их было всем удобно читать. Зачем?

Преподаватель будет проверять как написана ваша программа. Это называется code review. Во всех хороших командах программистов код одного человека просматривает другой человек.
+ можно увидеть неочевидную ошибку в логике программы,
+ замечания по коду сделают ваш код лучше и повысят вашу квалификацию.

Вы сами будете читать свой код. Через день, чтобы закончить работу. Через месяц, чтобы исправить ошибку. Через год, чтобы использовать ваш код как основу для новой программы. Уже через месяц вы будете смотреть на код, как будто видите его в первый раз. Позаботьтесь о себе!

Представим, я делаю задание по математике и оно написано нечитаемо.
+ преподаватель не может его проверить,
+ вы сами не можете разобраться в старом решении,
+ никто не может найти ошибку в решении, проще решить заново.

Код должен быть читаем. Ставьте пробелы и переводы строк.

## `\n`

### Что делаем
Писатьсловалучшечерезпробел.Большойтектсразбиватьнаабзацы.

В этом разделе научимся ставить пробельные символы и перевод строки.

### Один за другим
Изменим программу, чтобы она печатала Hello! и на следующей строке Good bye!

Команды программы выполняются одна за другой. Напишем следующую команду, которая печатает Good bye!

```c
#include <stdio.h>              // использовать стандартные функции ввода-вывода

int main()                      // начало программы
{
    printf("Hello!");           // печать Hello!
    printf("Good bye!");        // печать Good bye!

    return 0;                   // конец программы
}
```

Программа напечатает:

```
Hello!Good bye!
```

Надо в 2 строки:

```
Hello!
Good bye!
```

Если у вас в терминале большое приглашение на ввод (у меня это пользователь@компьютер:путь$), то напечатанный текст сливается с приглашением, некрасиво:

### С новой строки

```c
printf("Hello, world!");
```

Печатает текст. После него сразу идет приглашение на ввод команды $. Хочется после Hello, world! печатать на другой строке. Как?

Вариант 1. Мы ставили пробел внутри текста. Поставим перевод строки тоже внутри текста:

```c
#include <stdio.h>


int main()
{
    printf("Hello, world!
    ");   // закончим текст на новой строке


    return 0;
}
```

При компиляции получим ошибку. Компилятор не понял нашу конструкцию. Текстовая константа должна быть в 1 строку. Что делать?

### Escape-последовательность
Набор символов из \ и 1 символа или нескольких цифр называют экранированной последовательностью (escape sequence). Потому что \ экранирует обычное значение символа.
+ n - буква n
+ \n - символ новой строки, значение "буква n" заменяется значением "новая строка".

```c
printf("Hello, world!\n");  // после текста курсор - на новую строку
```

Escape последовательность |Значение
-|-
\n |новая строка (курсор на первую позицию следующей строки)
\r | возврат каретки (курсор на первую позицию этой строки)
\t | табуляция
\' | '
\" | "
\\\ | \

Символ " начинает и заканчивает строковую константу (текст). Поэтому если я хочу написать Мне нравится фильм "Титаник", то в выражении

```c
printf("Мне нравится фильм "Титаник".\n");
```

компилятор решит, что строковая константа это "Мне нравится фильм " (эти кавычки заканчивают строковую константу!), а дальше идет непонятно что. Ошибка.

Чтобы заменить специальное значение символа " (начало или конец строковой константы) на просто символ кавычки, нужно экранировать его специальное значение.

```c
printf("Мне нравится фильм \"Титаник\".\n"); // работает
```

### Длинная строка
Если нужно написать длинную строку, то не обязательно вытягивать ее в одну строку. Можно экранировать перевод строки.

```c
printf("Этот текст \
будет напечатан в одну строку.\n");
```

Знак \ должен быть последним символом в строке.

### Что такое табуляция?
Представьте, что в текстовом редакторе через каждые N символов проведена невидимая вертикальная линия. При нажатии на клавишу TAB курсор помещается на место ближайшей правой линии.

Размер табуляции настраивается в текстовых редакторах и терминалах.

Если ширина табуляции 4, то

```c
printf("ab\t12345\tz\n");
printf("<\t<\t<\t<\n");
```

напечатает

```c
ab  12345   z
<   <   <   <
```

## 2+3

### Что делаем?
Мы использовали компьютер как печатную машинку и печатали текст.

Используем компьютер как калькулятор. Научимся считать, запоминать результаты в памяти компьютера и вводить числа с клавиатуры.

__2+3__

Напишем программу, которая считает 2+3 и печатает результат.

Функция printf берет строку (первый аргумент) и на место очередного %d (format placeholder) подставляет очередной аргумент.

![03](/C_for_beginners_Stepik/Pictures/03_01.png)

```c
#include <stdio.h>


int main()
{


    // тут пишем код, который вычисляет 2+3
    printf("2 + 3 = %d\n", 2+3);            // 2 + 3 = 5
    printf("%d + %d = %d\n", 2, 3, 2+3);    // 2 + 3 = 5


    return 0;
}
```

Хочется, чтобы программа умела складывать не только 2+3, но и любые числа.

### Архимед

format placeholder | заменяется на
-|-
%d | целое десятичное число
%f | дробное число (десятичная дробь)

```c
printf("Ускорение свободного падения g = %f\n", 9.81);    // Ускорение свободного падения g = 9.81
```

Надо напечатать Архимед вычислил число Пи как 22/7 или 3.142857

```c
#include <stdio.h>
int main()
{
    printf("Архимед вычислил число Пи ");
    // что нужно здесь написать?
    return 0;
}
```

Важно, чтобы аргумент printf соответствовал форматной спецификации.
+ Целое число по формату %d,
+ не целое число по формату %f,
+ количество аргументов должно соответствовать количеству format placeholder.

```c
printf("как %d/%d или %f\n", 22, 7, 3.142857);
```

### Время в пути
Электричка идет 2 часа 20 минут. Сколько это в минутах? Сколько это в секундах? Напишем программу:

```c
#include <stdio.h>


int main()
{


    // тут пишем код
    printf("Время в пути в минутах %d минут\n", 2*60 + 20);
    printf("Время в пути в секундах %d секунд\n", (2*60 + 20)*60);


    return 0;
}
```

Она напечатает:

```
Время в пути в минутах 140 минут
Время в пути в секундах 8400 секунд
```

В программе два раза вычисляется значение выражения 2*60 + 20. Даже простые калькуляторы умеют записывать результат в память и использовать это значение в вычислениях.

### Переменные
Все ячейки памяти имеют свои номера. В первых компьютерах чтобы сохранить число в память или прочитать из памяти нужно было указывать номер ячейки. "Число из ячейки 33 умножить на число из ячейки 120 плюс число из ячейки 57" - писать такие программы было тяжело. Ячейкам стали давать имена, код v*t + s0 понимать проще.

Именованные ячейки памяти называют __переменными__.

В Си у каждой переменной есть __имя__ и ее __тип__ (сколько байт памяти занимает переменная и по какому формату пишутся в нее числа). Они задаются при __объявлении переменной__.

Сначала нужно __объявить переменную__, потом можно ее использовать.

+ Тип int от английского слова integer (целое число).
+ Тип float от floating point number (число с плавающей точкой) -

```c
int x;          // объявили переменную с именем х типа int
float g;        // объявили переменную с именем g типа float
```

Можно объявить сразу несколько переменных одного типа:

```c
int x, y, n;    // тип и переменные через запятую
```

Перепишем программу вычисления времени через переменные:

```c
#include <stdio.h>


int main()
{


    // объявим переменные min и sec
    int min;            // время в минутах
    int sec;            // время в секундах


    // используем переменные для вычислений
    min = 2 * 60 + 20;    // в переменную min записали число 140
    sec = min * 60;        // прочитали из переменной min число 140, вычислили 140*60 и 8400 записали в переменную sec


    // используем переменные для печати результатов
    // вместо %d подставили число, которое хранится в переменной min
    printf("Время в пути в минутах %d минут\n", min);
    // вместо %d подставили число, которое хранится в переменной sec
    printf("Время в пути в секундах %d секунд\n", sec);


    return 0;
}
```

Столько усилий ради перевода 2:20 в минуты и секунды? Я в уме быстрее посчитаю!

Программы пишут не для вычисления одного значения, а для вычисления по указанным формулам для разных чисел. Например, вычисления площади (любой, а не только стола, за которым мы сидим) по длине и ширине. Для этого нужно уметь вводить в программу разные числа.

### scanf - читаем с клавиатуры

Дополним программу сложения двух чисел. Будем вводить 2 целых числа и печатать их сумму. Для этого нужно записывать введенное число и читать его, когда считаем сумму.

```c
int x, y;            // сначала объявим переменные


scanf("%d", &x);    // целое число записать в переменную х
scanf("%d", &y);    // целое число записать в переменную y
```

В стандартной функции Си scanf первым аргументом тоже идет форматная строка, в которой указано как мы будем разбирать введенные данные.

Дальше через запятую идут указания куда записывать результат.

Сравните:

```c
scanf("%d", &x);    // ввести число и записать его в х
printf("%d", x);    // прочитать число из х и напечатать его
```

Не забудьте & перед именем переменной. (Объяснения - в следующей теме).

Программа полностью:

```c
#include <stdio.h>


int main()
{
    int x, y;           // объявили переменные x и y типа int


    scanf("%d", &x);    // ввели число и записали его в х
    scanf("%d", &y);    // ввели число и записали его в y


    printf("%d + %d = %d\n", x, y, x+y);    // печатаем ответ


    return 0;
}
```

Вводим разные числа. Программа печатает сумму введенных чисел.

Ввод | Вывод
-|-
2 3 | 2 + 3 = 5
-7 11 | -7 + 11 = 4

Цель программы - складывать любые введенные числа, а не только числа 2 и 3. Поэтому она проверяется на разных входных данных. Вы должны писать программы, которые читают разные входные данные и печатают результат.

### Особенности чтения
Как прочитать 2 числа?

```c
scanf("%d", &x);    // целое число записать в переменную х
scanf("%d", &y);    // целое число записать в переменную y
```

или так:
```c
scanf("%d%d", &x, &y);    // 2 целых числа записать в переменные x и y
```

Как можно вводить числа?
+ На одной строке через пробел 2 3
+ На одной строке через несколько пробелов 2 3
+ На одной строке через табуляцию 2 3
+ На 2 строках

```
2
3
```

Между числами разместить разные пробельные символы:

```
2
       3
```

Все варианты работают. Все пробельные символы перед %d будут пропущены.
+ Введите в поле Test input разные значения и запустите программу.
+ Попробуйте добавить пробелы, переводы строк и табуляции во входные данные.
+ Запустите программу и посмотрите на результат.

### Сначала придумаем тесты
Напишем программу. Дано сколько часов и минут длился эксперимент. Нужно напечатать:
+ сколько длился эксперимент в минутах,
+ сколько длился эксперимент в секундах.

Пример ввода №1:

```
1 23
```

То есть эксперимент длился 1 час 23 минуты. Это 83 минуты или 4980 секунд.

Ожидаем вывод:

```
83
4980
```

Программы должны работать с разными входными данными. Как должна работать эта программа для других входных данных?

Пример ввода №2:

```
0 52
```

Ожидаемый вывод №2:

```
52
3120
```

Поэтому создание программ лучше начинать с тестов. Нужно написать для каких входных данных что должна напечатать программа. Наборы входных и ожидаемых выходных данных называются тестами.

Придумайте еще 2 теста для этой задачи.

Пора писать свои программы!

### Сколько идет эксперимент?

Эксперимент длится h часа m минут. Сколько это в минутах? Сколько это в секундах?

Дано: два целых числа через пробел (часы и минуты).<br>
Найти: два целых числа, по одному числу на строке. Всего минут. Всего секунд.

```c
#include <stdio.h>

int main()
{
    int h, m, min, sec;// объявить переменные

    scanf("%d %d", &h, &m);// прочитать входные данные

    min = h * 60 + m; // вычислить
    sec = min * 60;

    printf("%d\n%d", min, sec);// напечатать результат

    return 0;
}
```

### Какой код правильный?
В математике задачу можно решить разными способами. В программировании программу тоже можно написать по-разному.

У каждого кода будут свои плюсы и минусы. Посмотрим, как можно было решить задачу про часы и минуты.

__Вариант 1__

Напишем код программы и сохраним его в файле time1.c

```c
#include <stdio.h>


int main()
{
    // с этого места начинается выполнение программы


    // объявим переменные
    int h;  // часы
    int m;  // минуты


    // прочитаем входные данные
    scanf("%d", &h);
    scanf("%d", &m);


    // объявим переменные для результатов и посчитаем результат
    // по формуле 60h + m,
    // у нас не математика, нужно писать явно знак умножения
    int minres = h * 60 + m;
    printf("%d\n", minres);


    // секунд в 60 раз больше
    int secres = minres * 60;
    printf("%d\n", secres);


    return 0;
}
```

Скомпилируем его

```bash
gcc -Wall -Wextra time.c
```

Запустим и введем данные первого теста:

```bash
$ ./a.out
1 23
83
4980
```

Результат совпал с ожидаемым. Проверим для второго теста:

```bash
$ ./a.out
0 52
52
3120
```

__Вариант 2__

Те же математические формулы можно вычислить по-другому.
+ Названия переменных сделаем более "говорящими: hour, min, sec.
+ Результирующие минуты можно сохранить в ту же переменную min.
+ Сразу объявить переменную для секунд sec.

```c
#include <stdio.h>


int main()
{
    int hour;  // часы
    int min;   // минуты
    int sec;   // секунды


    scanf("%d", &hour);
    scanf("%d", &min);


    min = hour * 60 + min;  // сохраним результат в ту же переменную min
    sec = min * 60;         // этот результат используем в следующих вычислениях


    printf("%d\n", min);
    printf("%d\n", sec);


    return 0;
}
```

Решение состоит из логических блоков. Каждый блок стоит отделять пустой строкой.
+ объявление переменных
+ чтение данных
+ обработка данных (вычисления)
+ печать результатов

Подумайте, какой вариант решения вам нравится больше? Почему? Найдите плюсы и минусы каждого варианта.

### Писать красиво
Мало написать правильное решение. Код программы должен легко читаться и быть понятным.

Учебные задачи вы решаете, сдаете и забываете их. В жизни программисты развивают свои программы несколько лет, добавляя в них новую функциональность. Код дополняется и изменятся. Его читают много раз. Программу пишет много людей, одни программисты уходят, другие приходят. Поэтому важна читаемость кода. Читаемость позволяет быстрее понимать уже написанный код:
+ легче найти ошибку,
+ быстрее добавляется новый функционал к уже существующему.

Писать хорошо - это писать понятно. Поэтому код оформляют по правилам и называют эти правила code style (правила оформления кода). В разных компаниях могут быть разные стили. Наиболее известные Linux Kernel CS, Google CS TODO: ссылки на эти cs.

В некоторых языках программирования правила оформления описываются в стандарте и все программисты стараются их придерживаться. Например, PEP-8 для языка Python.

+ Вокруг бинарных операторов ставьте пробелы с двух сторон

```c
// хорошо
min = hour * 60 + min;
// плохо
min=hour*60+min;
```

+ Имена переменных должны быть понятными.

```c
// хорошо, пока не узнали лучше
int x1, y1, x2, y2, x3, y3; // координаты (x, y) трех вершин треугольника
// плохо (d - это у координата второй точки или х координата третьей?)
int a, b, c, d, e, f;       // координаты (x, y) трех вершин треугольника
```

+ Пишите комментарии.
+ Логические блоки программы отделяйте пустой строкой.
+ Ставьте отступы для вложенного кода (мы пишем внутри функции main с отступом). Отступ 1 табуляция. Рекомендуем вам выставить 1 табуляцию = 8 пробелам. Но в курсе (в онлайн редакторе и в примерах) ставим 4 пробела, так как некоторые читают теорию с мобильного телефона.
+ Одна строка - одно выражение. Не пишите на одной строке много выражений.

```c
// хорошо
min = hour * 60 + min;
sec = 60 * min;
// плохо
min = hour * 60 + min; sec = 60 * min;
```

### Цена обеда

![03](/C_for_beginners_Stepik/Pictures/03_02.png)

Студент хочет купить на обед в столовой $1$ порцию риса за __k_rice__ рублей и $2$ салата за __k_veg__ рублей каждый. Сколько стоит обед?

Дано: k_rice k_veg через пробел на одной строке. Все числа целые. Найти: цена обеда (1 целое число)

```c
#include <stdio.h>

int main()
{
    int k_rise, k_veg, res;// объявить переменные

    scanf("%d %d", &k_rise, &k_veg);// прочитать входные данные
    
    res = k_rise + k_veg * 2;
    
    printf("%d", res);// напечатать результат

    return 0;
}
```

## float

### Дробные и целые числа
Научимся работать с нецелыми числами.

Узнаем о:
+ типе float,
+ арифметических операциях,
+ приоритете операторов,
+ явном и неявном преобразовании типов.

### Пример: ИМТ

+ float - тип для работы с вещественными числами, например, с десятичной точкой 3.14.
+ %f - формат для чтения и печати вещественных чисел (значений переменных типа float).
+ / - оператор деления в языке Си.

В примере вычисляют и печатают индекс массы тела человека (ИМТ) по формуле Кетле

$k=\dfrac{m}{h^2}$
 
где $m$ - масса в кг, $h$ - рост в метрах.

Сначала придумаем, на каких данных будем проверять - правильно работает программа или нет. Это называется __тестовые данные__. Старайтесь первые данные брать такие, которые просто проверить, считая "в уме". Возьмите "сложный случай" и не забудьте проверить "вырожденные случаи".

Масса, кг | Рост, м | ИМТ | Комментарий
-|-|-|-
45 | 1.5 | 20 | Эти тестовые данные мы делали "от результата". Взяли ИМТ = 20, взяли нецелый рост, который легко возводится в квадрат, получили массу
52.65 | 1.5 | 23.4 | Взяли нецелое ИМТ и тот же рост. Теперь масса - не целая.
83 | 1.75 | 27.1020408163265 | Целая масса, дробный рост
73.124 | 1 | 73.124 | Полезный тест, если он будет один верный, а предыдущие - нет, то ошибка в возведении в квадрат
0| 0.9 | 0 | Еще один тест на "вырожденные случаи". Печально, если и этот тест будет неверный
134.67 | 2.18 | 28.3372611733019 | Случайно придуманные тестовые данные, чтобы все числа были не целыми

Программа:

```c
#include <stdio.h>


int main()
{
    float m;    // масса, кг
    float h;    // рост, м


    float imt;  // индекс массы тела (формула Кетле)


    // читаем входные данные
    scanf("%f%f", &m, &h);


    // вычисления
    imt = m / (h * h);


    printf("%f\n", imt);


    return 0;
}
```

Input | Output | Ожидаемый результат | Ок?
-|-|-|-
45 1.5 | 20.000000 |20 | Ок
83 | 1.75 | 27.102041 | 27.1020408163265 | ?
73.124 | 1 | 73.124001 | 73.124 | ?
0 | 0.9 | 0.000000 | 0 | Ок
134.67 | 2.18 | 28.337259 | 28.3372611733019 | ?

Программа работает правильно или нет? Ожидаемые результаты были рассчитаны тоже на компьютере, в LibreOffice Calc. Одна программа против другой? В тесте 73.124 и 1 очевидно, что результат 73.124001 не точный. Разница с точным результатом 0.000001.

Чуть позже, сразу после решения задач, мы рассмотрим как хранятся в памяти компьютера целые числа и числа с плавающей точкой. Почему возникает погрешность.

Проверяющая система умеет сравнивать с указанной (авторами) точностью. Не беспокойтесь, если ваша программа печатает чуть другое значение, чем указано в примерах ввода и вывода. По умолчанию, требуется точность 0.0001.

Понятие погрешности вычислений оставим на курс вычислительной математики.

### ИМТ
Уважаемые студенты, нельзя просто взять чье-то решение и сдать его как своё. Учимся списывать правильно!

Вы разобрались в коде и теперь попробуйте решить эту задачу сами. Возможно, ваш код будет отличаться и это нормально. Попробуйте не подглядывать.

Какие тесты помогли найти ошибку в вашем коде? Напишите в комментарии, если у вас была ошибка, которую не поймали наши тесты. Еще лучше - напишите еще и свой тест, который ловит эту ошибку.

Не забывайте код внутри { } писать с отступом в 1 табуляцию.

Дано: масса в килограммах и рост в метрах через пробел.

Найти: индекс массы тела человека (ИМТ) по формуле 

```c
#include <stdio.h>


int main()
{
    float m, h, imt; // масса, кг; рост, м; индекс массы тела (формула Кетле)

    // читаем входные данные
    scanf("%f%f", &m, &h);

    // вычисления
    imt = m / (h * h);

    printf("%f\n", imt);

    return 0;
}
```

### Все сломалось?
Чуть-чуть изменим задачу. Пусть рост задан в сантиметрах и является целым числом. Разделим на 100, чтобы перевести сантиметры в метры.

```c
#include <stdio.h>


int main()
{
    float m;    // масса, кг
    int   hsm;  // рост, см


    scanf("%f%d", &m, &hsm);    // читаем входные данные
    float h = hsm / 100;        // рост в метрах


    float imt = m / (h * h);    // индекс массы тела (формула Кетле)


    printf("%f\n", imt);


    return 0;
}
```

Скомпилируем и запустим код на тех же тестовых данных:

![03](/C_for_beginners_Stepik/Pictures/03_03.png)

+ Для 150 и 175 код работает одинаково - он считает 150/100 и 175/100 равным 1.
+ появилось inf, что это?
+ появилось -nan, что это?

В следующих шагах разберемся в чем ошибка и как исправить программу.

### Бесконечность и "не число"
В школе нас учили, что делить на 0 нельзя. В языке Си тоже нельзя ЦЕЛОЕ число разделить на 0. Получается Floating point exception и программа останавливается.

Потом мы узнали про бесконечность и что нельзя взять корень из отрицательного числа. В стандарте работы с числами с плавающей точкой IEEE 754 есть бесконечность и "не число".

![03](/C_for_beginners_Stepik/Pictures/03_04.png)

`NaN` так же получается в языке Си, если попытаться вычислить $\sqrt{−1}$.

Мы разобрались, откуда взялись ошибки в двух примерах. Значит, мы пытались делить на ноль. Откуда получился 0 в 90/100? Откуда взялись неверные результаты в остальных примерах?

### Термины и арифметические операции
Чтобы понимать объяснения, разберемся, какие термины используют для описания работы арифметических операций.
+ операция - из математики знаем операции сложения, вычитания, умножения, деления.
+ оператор - это знак операции, (для сложения +, для вычитания - и так далее).
+ операнд - аргумент операции, в зависимости от аргументов операции делятся:
    + по количеству аргументов:
        + бинарные операции - два аргумента, например, 5+2, 24-8.
        + унарные операции - один аргумент, например, унарный минус в операции -5 или -x.
        + в Си есть операции с 3 аргументами.
    + где пишется аргумент:
        + инфиксный оператор - между операндами, например 2+3.
        + префиксный оператор - перед операндом, например -x.
        + постфиксный оператор - после операнда, например x++ (позже расскажем про него в этом уроке).

__Бинарные арифметические операции в языке Си__

Сложение двух целых чисел и сложение вещественных чисел в языке Си - это две разных операции. Они обозначаются одинаковым символом операнда +. Аналогично для других арифметических операций.

![03](/C_for_beginners_Stepik/Pictures/03_05.png)

Математики в шоке, делим 7 на 2 и получаем то 3.5, то 3?

В языке Си если операнды в арифметическом выражении целого типа, то результат этого выражения тоже целого типа.
+ 7.0 / 2.0 - оба операнда вещественные, результат тоже вещественный, то есть 3.5.
+ 7 / 2 - оба операнда целочисленные, значит результат тоже целое число. Целое число получается из вещественного отбрасыванием дробной части (ближайшее к 0 целое с недостатком). То есть результат 3.

Когда мы переводили рост из сантиметров в метры в hsm / 100 мы делили одно целое число, например, 150 или 175, на другое целое число 100 и получали 1, делили 90 на 100 и получали 0.

Что будет, если одно целое, другое - вещественное? Результат будет вещественный.

Оба целых, но есть отрицательные числа? Обратите на правила округления.

__Деление и остаток от деления для отрицательных чисел__

![03](/C_for_beginners_Stepik/Pictures/03_06.png)

Внимание! Если вы изучали python, то в python остаток всегда того же знака, что и делитель и -7 // 2 будет -4 с остатком 1. В языке Си это не так.

### Как преобразовать тип?
Операция (тип) преобразует аргумент в указанный тип.

![03](/C_for_beginners_Stepik/Pictures/03_07.png)

Добавим преобразование типа в формулу для вычисления:

```c
float h = (float)hsm / 100;     // рост в метрах
```

вся программа:

```c
#include <stdio.h>


int main()
{
    float m;    // масса, кг
    int   hsm;  // рост, см


    scanf("%f%d", &m, &hsm);        // читаем входные данные
    float h = (float)hsm / 100;     // рост в метрах


    float imt = m / (h * h);        // индекс массы тела (формула Кетле)


    printf("%f\n", imt);


    return 0;
}
```

Скомпилируем и запустим код на тех же тестовых данных:

![03](/C_for_beginners_Stepik/Pictures/03_03.png)

Работает правильно.

### Неявное преобразование типа

Если формула будет большой, то (float) сделают её абсолютно не читаемой. Например, результирующая скорость при абсолютно неупругом столкновении

$v = \dfrac{m_1 \cdot v_1 + m_2 \cdot v_2}{m_1 + m_2}$

Кроме явного преобразования типа в выражении (float)x в Си есть __неявное преобразование типа__. Мы не пишем оператор преобразования типа, а значение изменяется. Сравните:

```c
float x = 3;        // целое число 3 неявно преобразуется к 3.0, потом 3.0 записывается в х
float y = (float)3; // целое число 3 явно преобразуется к 3.0, потом 3.0 записывается в y


int a = 4.7;        // 4.7 неявно преобразуется к 4, потом 4 записывается в a
int b = (int)4.7;   // 4.7 явно преобразуется к 4, потом 4 записывается в b
```

Неявное преобразование типа происходит, если в бинарной арифметической операции операнды разных типов. Они сначала приводятся неявно к одному типу, потом производятся вычисления.

![03](/C_for_beginners_Stepik/Pictures/03_08.png)

### Приоритет операций
В математике умножение и деление "главнее" (выполняется раньше, потому что имеет больший приоритет), чем сложение и вычитание.

Скобки изменяют приоритет вычислений.

В языке Си - так же.

Выражение | Результат
-|-
1 + 2 * 3 | 7
(1 + 2) * 3 | 9
(1 + -2) * 3 | -3

Преобразование типа имеет больший приоритет ("главнее"), чем умножение или деление.
+ В выражении (float)7 / 2
    + сначала 7 преобразуется в 7.0,
    + так как операнды теперь разных типов, 2 неявно преобразуется к 2.0,
    + потом 7.0 / 2.0.
+ Результат 3.5.

![03](/C_for_beginners_Stepik/Pictures/03_09.png)

### Порядок вычисления операндов
В операциях может быть определен порядок работы с операндом. Для оператора = в выражении x = 2+3; сначала вычисляется правый аргумент, выражение 2+3, потом результат записывается в переменную x.

В арифметических операциях порядок вычисления левого и правого операнда не фиксирован в стандарте и зависит от реализации компилятора. То есть в x + y вы не знаете, какая переменная прочитается сначала - x или y.

### км/ч в м/с
Дана скорость v в км/ч, найдите скорость в м/с.

Дано: v целое число.

Найти: скорость в метрах в секунду.

```c
#include <stdio.h>


int main()
{
    float v, res; 
    scanf("%f", &v);

    // вычисления
    res = v * 1000 / 3600;

    printf("%f\n", res);

    return 0;
}
```

## Задачи

Какие задачи обязательные в этом уроке?
+ ♟ - задачи для тех, кто учит первый язык программирования. Для них задачи обязательные. Остальные могут их пропустить. Начинающие студенты, если у вас мало времени, остальные задачи можно не делать. Лучше прочтите теорию.
+ ♞ - не обязательная задача.

Обращайте внимание, какие числа даны и что требуется
+ Если дано число, то оно может быть целым или нет.
+ Если дано целое число, то это число типа int
+ Применяйте здравый смысл. Количество человек и стульев - целые числа.

### ♟ int_2 Сколько можно сделать столов?

![03](/C_for_beginners_Stepik/Pictures/03_10.png)

Из 4 ножек делают 1 стол.

Сколько столов можно сделать из N ножек ?

![03](/C_for_beginners_Stepik/Pictures/03_11.png)

Дано целое число ножек N.

Напечатать сколько из них можно сделать столов.

У кого в ответе будет 3.5 стола, будет сам сидеть за половиной стола в классе.

```c
#include <stdio.h>


int main()
{
    int N, res; 
    scanf("%d", &N);

    // вычисления
    res = N / 4;

    printf("%d\n", res);

    return 0;
}
```

### ♟ Где финиш?
Длина круга беговой дорожки на стадионе round метров. Студенты должны пробежать total метров.

Напечатать:
+ Сколько полных кругов должны пробежать студенты?
+ В скольких метрах от старта надо поставить финиш?

Все числа целые.

```c
#include <stdio.h>


int main()
{
    int round, total, res1, res2; 
    scanf("%d %d", &round, &total);

    // вычисления
    res1 = total / round;
    res2 = total - round * res1;

    printf("%d %d", res1, res2);

    return 0;
}
```

### ♟ Площадь прямоугольника
Даны длины сторон прямоугольника.

Напечатайте его площадь.

```c
#include <stdio.h>


int main()
{
    float a, b, res; 
    scanf("%f %f", &a, &b);

    // вычисления
    res = a * b;
    
    printf("%f", res);

    return 0;
}
```

### ♟ int_3 Сколько стульев

+ Площадь комнаты - s.
+ Длина одной стороны комнаты - w.
+ Ширина стула ch.

Вычислить сколько стульев res можно поставить у ДРУГОЙ стороны комнаты.

![03](/C_for_beginners_Stepik/Pictures/03_12.png)

