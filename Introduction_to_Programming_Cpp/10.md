Сегодня мы изучаем строки – одну из самых полезных вещей в реальных задачах. Мы уже немного с ними работали — например, когда выводили конкретную строку в кавычках.

# 1.10 Строки и символы

## Содержание
+ [Чтение строк](#чтение-строк)
+ [Коды символов](#коды-символов)
+ [Выделение цифр числа](#выделение-цифр-числа)
+ [Поиск подстроки в строке](#поиск-подстроки-в-строке)
+ [Изменение регистра символа](#изменение-регистра-символа)
+ [Задачи](#задачи)
    + [По введенному символу определите, является ли он цифрой](#по-введенному-символу-определите-является-ли-он-цифрой)
    + [Переведите символ в верхний регистр](#переведите-символ-в-верхний-регистр)
    + [Вводится один символ, измените его регистр. То есть, если была введена строчная буква - сделайте ее заглавной и наоборот. Символы, не являющиеся латинской буквой, нужно выводить без изменений](#вводится-один-символ-измените-его-регистр-то-есть-если-была-введена-строчная-буква---сделайте-ее-заглавной-и-наоборот-символы-не-являющиеся-латинской-буквой-нужно-выводить-без-изменений)
    + [Дана строка, содержащая пробелы. Найдите, сколько в ней слов (слово – это последовательность непробельных символов, слова разделены одним пробелом, первый и последний символ строки – не пробел)](#дана-строка-содержащая-пробелы-найдите-сколько-в-ней-слов-слово--это-последовательность-непробельных-символов-слова-разделены-одним-пробелом-первый-и-последний-символ-строки--не-пробел)
    + [По данной строке определите, является ли она палиндромом (то есть, читается одинаково как слева-направо, так и справа-налево)](#по-данной-строке-определите-является-ли-она-палиндромом-то-есть-читается-одинаково-как-слева-направо-так-и-справа-налево)
    + [Найдите в данной строке самое длинное слово и выведите его](#найдите-в-данной-строке-самое-длинное-слово-и-выведите-его)
    + [В сети интернет каждому компьютеру присваивается четырехбайтовый код, который принято записывать в виде четырех чисел, каждое из которых может принимать значения от 0 до 255, разделенных точками. Вот примеры правильных IP-адресов](#в-сети-интернет-каждому-компьютеру-присваивается-четырехбайтовый-код-который-принято-записывать-в-виде-четырех-чисел-каждое-из-которых-может-принимать-значения-от-0-до-255-разделенных-точками-вот-примеры-правильных-ip-адресов)

[Оглавление](/Introduction_to_Programming_Cpp/README.MD)

## Чтение строк

Для начала вам нужно подключить библиотеку `string`. То, что в русском языке называется одним словом «строка», в английском может означать разное. `«String»` – это строка как последовательность символов, а `«line»` – последовательность символов, оканчивающаяся переводом строки (нечто похожее на наш «абзац»).

Решим такую задачу: пользователь вводит свое имя, а программа здоровается с ним. Полное решение будет записано так:

```c++
#include <iostream>
#include <string>

using namespace std;

int main() {
    string s;
    cin >> s;
    cout << "Hello, " + s;
    return 0;
}
```

 
В этой программе мы воспользовались сложением строк – они просто склеились. Можно было сделать то же самое, просто выведя отдельно `«Hello, »` и переменную `s`.

При использовании `cin` чтение будет происходить по словам. Например, если нам понадобится считать два слова, это можно сделать, считав с помощью `cin` две переменные типа `string`. Слова могут быть разделены любым количеством пробелов, табуляций и переводом строк, но в переменных окажутся только непробельные символы.

Часто возникает необходимость считать строку (в понимании `line`) целиком, а не пословно. Для этого есть специальная функция `getline(cin, s)`. Первый параметр в этой функции указывает на поток ввода (`cin`), а второй – на строку, в которую нужно считывать.

<hr>

[Содержание](#содержание)

## Коды символов

В компьютере всё, в том числе и строки, хранится в виде чисел (строка — набор чисел, которыми кодируются символы). Для хранения одного символа используется тип `char` (от слова `character`, символ).

Можно обращаться к отдельным символам строки, написав после её имени в квадратных скобках номер символа. Нумерация символов в строке начинается с нуля, так же как и в векторах. Узнать длину строки можно с помощью метода `size`.

Рассмотрим на программу, которая считывает строку, сохраняет первый (на самом деле нулевой) символ строки в переменную типа `char` и выводит его:

```c++
string s;
char c;
cin >> s;
c = s[0];
cout << c;
```

Когда мы выводим переменную типа `char`, то выводится символ. Хотя на самом деле `char` – числовая переменная и обозначает номер символа в кодовой таблице. По аналогии с переводом вещественных чисел в целые мы можем сделать перевод из типа `char` в тип `int`, чтобы узнать код символа. Вывод кода символа выглядит так:

```c++
cout << (int) c;
```

Сам по себе код символа для нас не несет никакой пользы, но важно знать, что в кодовой таблице символы расположены по порядку. То есть код маленькой латинской буквы `b` на единицу больше кода буквы `a` и так далее. Где-то отдельно в этой таблице лежат цифры, также расположенные по порядку (0 идет перед 1).

<hr>

[Содержание](#содержание)

## Выделение цифр числа

Теперь приступим к решению большой задачи: получим из `html`-кода страницы информацию о курсах акций, чтобы заработать на их колебаниях кучу денег. Первым делом нам нужно выделить из строки только цифры. Мы будем считать, что в строке есть только одно целое число и его и нужно получить. Для решения этой задачи мы будем проходить по всей строке и, если символ – цифра, будем её печатать.

```c++
string s;
getline(cin, s);
for (auto c : s) {
    if (c >= '0' && c <= '9') {
        cout << c;
    }
}
```

В этой программе мы проходим по всем символам строки (так же, как мы проходили по всем элементам вектора). Еще мы научились узнавать код конкретного символа – для этого нужно записать этот символ в одинарных кавычках. Если код очередного символа лежит в пределах от `0` до `9`, то этот символ – цифра.

<hr>

[Содержание](#содержание)

## Поиск подстроки в строке

Вернемся к нашей задаче по зарабатыванию денег. Пусть в скачанном нами файле содержится много строк, но нам интересна только та, где есть название компании, акциями которой мы хотим торговать. Например, это `«Рога и копыта»` с кодом на бирже `rkpt`. Дальше наша задача усложняется: среди `N` строк нужно найти ту, которая содержит подстроку `rkpt` (то есть где-то внутри строки встречается эта последовательность символов) и вывести число, записанное в этой строке. К счастью, у строк есть много методов, способных облегчить нашу жизнь. Например, метод `find`, который как раз предназначен для поиска подстроки в строке. Код решения выглядит так:

```c++
int n;
cin >> n;
string s;
getline(cin, s);
for (int i = 0; i < n; i++) {
    getline(cin, s);
    if (s.find("rkpt") != -1) {
        for (auto c : s) {
            if (c >= '0' && c <= '9') {
                cout << c;
            }
        }
    }
}
```

Метод `find` работает следующим образом: если подстрока нашлась, то она возвращает число, равное номеру символа, с которого началось первое вхождение подстроки в строку. А если подстроки не нашлось, то этот метод возвращает `-1`.

Обратите внимание на `getline` перед циклом. Он необходим, потому что после считывания числа в этой строке остается еще и символ перевода строки. Так что когда мы сделаем первый `getline`, то он считает пустую строку (ведь до перевода строки ничего не осталось).

<hr>

[Содержание](#содержание)

## Изменение регистра символа

Рассмотрим ещё один случай. Допустим, название компании может быть написано как большими, так и маленькими буквами или даже вперемешку. А значит нам нужно научиться определять регистр. Чтобы проверить, является ли символ в переменной заглавной буквой, достаточно написать следующее условие:

```c++
if (c >= 'A' && c <= 'Z') 
```

Это возможно, потому что буквы расположены в алфавитном порядке. Теперь мы можем определить, какая по счёту буква алфавита нам встретилась:

```c++
int temp = c – 'A';
```

Поскольку переменная на самом деле является числом, мы можем вычитать один символ из другого — это будет просто вычитание одного кода из другого. Теперь, чтобы получить в переменной c соответствующую маленькую букву, нужно к коду буквы `«a»` (маленькой) прибавить порядковый номер нужной буквы в алфавите:

```c++
c = 'a' + temp;
``

Ну и наконец, если мы хотим преобразовать все буквы в строке, то должны заранее создать пустую строку:

```c++
string s2 = "";
```

А затем добавлять к ней символы по одному.

<hr>

[Содержание](#содержание)

# Задачи

## По введенному символу определите, является ли он цифрой.

Входные данные<br>
Вводится единственый символ.<br>
Выходные данные<br>
Выведите "yes", если символ является цифрой и "no" в противном случае. Обратите внимание, что слова нужно выводить маленькими буквами.<br>
Sample Input 1:<br>
1<br>
Sample Output 1:<br>
yes<br>
Sample Input 2:<br>
a<br>
Sample Output 2:<br>
no

```c++
#include <iostream>

int main() {
    char n;
    std::cin >> n;
    int result = isdigit(n);
    std::cout << (result ? "yes" : "no") << std::endl;
    return 0;
}
```

<hr>

[Содержание](#содержание)

## Переведите символ в верхний регистр.

Входные данные<br>
Вводится единственый символ.<br>
Выходные данные<br>
Если введеный символ является строчной буквой латинского алфавита, то выведите такую же заглавную букву. В противном случае выведите тот же символ, который был введен.<br>
Sample Input:<br>
b<br>
Sample Output:<br>
B

```c++
#include <iostream>

int main() {
    char n;
    std::cin >> n;
    n = toupper(n);
    std::cout << n << std::endl;
    return 0;
}
```

<hr>

[Содержание](#содержание)

## Вводится один символ, измените его регистр. То есть, если была введена строчная буква - сделайте ее заглавной и наоборот. Символы, не являющиеся латинской буквой, нужно выводить без изменений.

Входные данные<br>
Вводится единственый символ.<br>
Выходные данные<br>
Выведите ответ на задачу.<br>
Sample Input:<br>
b<br>
Sample Output:<br>
B

```c++
#include <iostream>

int main() {
    char n;
    std::cin >> n;
    if (islower(n)) {
        n = toupper(n);
    } else if (isupper(n)) {
        n = tolower(n);
    }
    std::cout << n << std::endl;
    return 0;
}
```

<hr>

[Содержание](#содержание)

## Дана строка, содержащая пробелы. Найдите, сколько в ней слов (слово – это последовательность непробельных символов, слова разделены одним пробелом, первый и последний символ строки – не пробел).

Входные данные<br>
На вход подается несколько строк.<br>
Выходные данные<br>
Необходимо вывести количество слов в первой из введенных строк.<br>
Примечание<br>
В этой задаче может быть полезен метод find с двумя параметрами. Первый из них - искомая подстрока, второй - позиция, начиная с которой нужно искать первое вхождение.<br>
Sample Input:<br>
In the town where I was born<br>
Sample Output:<br>
7

```c++
#include <iostream>
#include <string>

int main() {
    std::string str;
    int count = 1;
    getline(std::cin, str);

    for (auto ch : str) {
        if (ch == ' ') {
            count++;
        }
    }
    std::cout << count << std::endl;
    return 0;
}
```

```c++
#include <iostream>
#include <string>

int main() {
    std::string str;
    int count = 1;
    getline(std::cin, str);

    for (auto ch : str) {
        if (isspace(ch)) {
            count++;
        }
    }
    std::cout << count << std::endl;
    return 0;
}
```

<hr>

[Содержание](#содержание)

## По данной строке определите, является ли она палиндромом (то есть, читается одинаково как слева-направо, так и справа-налево).

Входные данные<br>
На вход подается 1 строка без пробелов.<br>
Выходные данные<br>
Необходимо вывести yes, если строка является палиндромом, и no в противном случае.<br>
Sample Input:<br>
kayak<br>
Sample Output:<br>
yes

```c++
#include <algorithm>
#include <iostream>
#include <string>

int main() {
    std::string str;
    getline(std::cin, str);
    std::string revers = str;
    reverse(revers.begin(), revers.end());

    int result = revers == str;

    std::cout << (result ? "yes" : "no") << std::endl;
    return 0;
}
```

<hr>

[Содержание](#содержание)

## Найдите в данной строке самое длинное слово и выведите его.

Входные данные<br>
Вводится одна строка. Слова в ней отделены одним пробелом.<br>
Выходные данные<br>
Выведите самое длинное слово. Если таких слов несколько, то выводить нужно, которое встречается раньше.<br>
Sample Input:<br>
Everyone of us has all we need<br>
Sample Output:<br>
Everyone<br>

```c++
#include <iostream>
#include <string>
#include <vector>

int main() {
    using namespace std;
    vector<string> str;
    string s;
    while (std::cin >> s) {
        str.push_back(s);
    }

    int max = 0;
    string result;
    for (string st : str) {
        int size = st.size();
        if (size > max) {
            max = size;
            result = st;
        }
    }
    std::cout << result << std::endl;
    return 0;
}
```

```c++
#include <iostream>
#include <string>

int main() {
    std::string sgood = "", snew;
    while (std::cin >> snew)
        if (snew.length() > sgood.length()) sgood = snew;
    std::cout << sgood << std::endl;
    return 0;
}
```

<hr>

[Содержание](#содержание)

## В сети интернет каждому компьютеру присваивается четырехбайтовый код, который принято записывать в виде четырех чисел, каждое из которых может принимать значения от 0 до 255, разделенных точками. Вот примеры правильных IP-адресов:
```
127.0.0.0
192.168.0.1
255.0.255.255
```

Напишите программу, которая определяет, является ли заданная строка правильным IP-адресом.<br>
Входные данные<br>
Программа получает на вход строку из произвольных символов.<br>
Выходные данные<br>
Если эта строка является корректной записью IP-адреса, выведите YES, иначе выведите NO.<br>
Примечание<br>
Для перевода из строки в число удобно пользоваться функцией stoi, которая принимает на вход строку, а возвращает число.
Sample Input:<br>
127.0.0.1<br>
Sample Output:<br>
YES

```c++
#include <bits/stdc++.h>
using namespace std;
int main() {
    cout << array<string, 2>{"NO", "YES"} [ regex_match(string{istream_iterator<char>(cin),{}}, regex(R"(^((25[0-5]|2[0-4][0-9]|[1][0-9][0-9]|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|[1][0-9][0-9]|[0-9]{1,2})$)"))];
}
```

```c++
#include <iostream>

int main() {
    int a, b, c, d;
    std::string s;
    int n = scanf("%d.%d.%d.%d", &a, &b, &c, &d);
    std::cin >> s;
    std::cout << (n == 4 && s == "" && a >= 0 && a < 256 && b >=0 && b < 256 && c >= 0 && c < 256 && d >=0 && d < 256 ? "YES" : "NO");
    return 0;
}
```

```c++
#include <iostream>
#include <string>

int main() {
    int result = 1, D[4];
    std::string str;

    int n = scanf("%d.%d.%d.%d", &D[0], &D[1], &D[2], &D[3]);
    if (n != 4) result = 0;

    std::cin >> str;
    if (str != "") result = 0;

    for (auto digit : D) {
        if (digit < 0 || digit > 255) {
            result = 0;
        }
    }
    std::cout << (result ? "YES" : "NO") << std::endl;
    return 0;
}
```

<hr>

[Содержание](#содержание)